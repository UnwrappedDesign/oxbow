---
export const freeComponent = true;
export const excludeFromObfuscation = ["flex", "hidden"];
import { Image } from "astro:assets";
import Avatar from "@/images/assets/avatar.png";
import Button from "@/components/fundations/buttons/Button.astro";
import IconButton from "@/components/fundations/buttons/IconButton.astro";
import Burger from "@/components/fundations/icons/Burger.astro";
import Text from "@/components/fundations/typography/Text.astro";
import Logo from "@/components/assets/Logo.astro";
import TextInput from "@/components/fundations/inputs/TextInput.astro";
import Sun from "@/components/fundations/icons/Sun.astro";
import User from "@/components/fundations/icons/User.astro";
import Moon from "@/components/fundations/icons/Moon.astro";
---

<!-- copy:start -->
<header
  class="w-full mx-auto bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800"
>
  <div
    x-data="{ open:false, theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light', userMenu:false }"
    class="max-w-screen-xl mx-auto px-6 md:px-10 lg:px-16 py-2"
  >
    <div class="flex items-center gap-3">
      <!-- Brand -->
      <Text
        tag="a"
        href="#_"
        variant="textBase"
        class="flex items-center gap-2 font-semibold text-zinc-900 dark:text-zinc-100"
      >
        <Logo class="h-7 text-black dark:text-white" />
        Oxbow UI
      </Text>

      <!-- Search (desktop) -->
      <div class="hidden md:block ml-4 flex-1 max-w-xs">
        <TextInput
          id="site-search-04"
          name="site-search-04"
          type="search"
          size="sm"
          placeholder="Searchâ€¦"
          class="w-full"
        />
      </div>

      <div class="ml-auto flex items-center gap-2">
        <!-- Theme toggle (visual only) -->
        <Button
          onlyIconSize="xs"
          type="button"
          variant="muted"
          size="xs"
          @click="theme = (theme==='dark') ? 'light' : 'dark'"
          aria-label="Toggle theme"
        >
          <Sun x-show="theme==='light'" x-cloak size="sm" />
          <Moon x-show="theme==='dark'" x-cloak size="sm" />
        </Button>

        <!-- User menu -->
        <div class="relative">
          <Button
            onlyIconSize="xs"
            type="button"
            variant="muted"
            size="xs"
            @click="userMenu = !userMenu"
            :aria-expanded="userMenu"
            aria-haspopup="menu"
          >
            <User size="sm" x-cloak />
          </Button>
          <div
            x-show="userMenu"
            @click.outside="userMenu=false"
            class="absolute right-0 mt-2 w-44 rounded-xl bg-white dark:bg-zinc-900 shadow-oxbow outline outline-1 outline-zinc-100 dark:outline-zinc-800 p-1"
          >
            <a
              href="#_"
              class="block px-3 py-1.5 rounded-md text-sm text-zinc-700 dark:text-zinc-200 hover:bg-sand-100 dark:hover:bg-zinc-800"
              >Profile</a
            >
            <a
              href="#_"
              class="block px-3 py-1.5 rounded-md text-sm text-zinc-700 dark:text-zinc-200 hover:bg-sand-100 dark:hover:bg-zinc-800"
              >Settings</a
            >
            <div class="my-1 h-px bg-zinc-200 dark:bg-zinc-800"></div>
            <a
              href="#_"
              class="block px-3 py-1.5 rounded-md text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-950/40"
              >Sign out</a
            >
          </div>
        </div>

        <IconButton
          class="md:hidden"
          @click="open=!open"
          :aria-expanded="open"
          aria-controls="nav-6"
          variant="alternative"
          size="xs"><Burger size="xs" slot="icon" /></IconButton
        >
      </div>
    </div>

    <!-- Mobile menu -->
    <nav
      id="nav-6"
      :class="{ 'block': open, 'hidden': !open }"
      class="md:hidden hidden mt-2 space-y-2"
      aria-label="Mobile"
    >
      <a
        href="#_"
        class="block px-2 py-1 rounded-md text-zinc-600 dark:text-zinc-300 hover:bg-sand-100 dark:hover:bg-zinc-800"
        >Dashboard</a
      >
      <a
        href="#_"
        class="block px-2 py-1 rounded-md text-zinc-600 dark:text-zinc-300 hover:bg-sand-100 dark:hover:bg-zinc-800"
        >Projects</a
      >
      <a
        href="#_"
        class="block px-2 py-1 rounded-md text-zinc-600 dark:text-zinc-300 hover:bg-sand-100 dark:hover:bg-zinc-800"
        >Team</a
      >
      <Button variant="accent" size="xs">New</Button>
    </nav>
  </div>
</header>
<!-- copy:end -->
