---
export const description = "Form validation with error message";
import Select from "@/components/fundations/inputs/Select.astro";
import Button from "@/components/fundations/buttons/Button.astro";
// Remove duplicate imports
const currencyOptions = [
  { label: "USD ($)", value: "usd" },
  { label: "EUR (€)", value: "eur" },
  { label: "GBP (£)", value: "gbp" },
  { label: "JPY (¥)", value: "jpy" },
];
---

<div class="flex justify-center p-8 mx-auto">
  <!-- copy:start -->
  <div
    class="w-full"
    x-data="{ 
       currency: '', 
       errorMessage: '',
       validateCurrency() {
         if (!this.currency) {
           this.errorMessage = 'Please select a currency';
           return false;
         }
         this.errorMessage = '';
         return true;
       }
     }"
  >
    <div class="flex w-full items-center">
      <Select
        id="currency-validation"
        name="currency"
        options={currencyOptions}
        xModel="currency"
        size="base"
        xOn={{ change: "validateCurrency()" }}
        class="w-full"
      />
    </div>
  </div>
  <!-- copy:end -->
</div>
