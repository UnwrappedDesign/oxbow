---
export const description = "Merge Pull Request (Split)";
import HorizontalButtonGroup from "@/components/fundations/buttonGroups/HorizontalButtonGroup.astro";
import ChevronDown from "@/components/fundations/icons/ChevronDown.astro";
---

<section
  class="flex items-center justify-center p-18 pb-34 bg-white dark:bg-zinc-900"
>
  <!-- copy:start -->
  <div
    class="relative inline-flex isolate"
    x-data="{ open:false, strategy:'Create merge commit' }"
    role="group"
    aria-label="Merge actions"
  >
    <HorizontalButtonGroup
      variant="default"
      position="right"
      size="sm"
      class="dark:bg-zinc-900 dark:text-white dark:ring-zinc-900 dark:hover:bg-zinc-800"
      @click="/* primary merge action */ void 0"
      aria-label="Merge pull request"
    >
      Merge pull request
    </HorizontalButtonGroup>
    <HorizontalButtonGroup
      variant="default"
      position="left"
      size="sm"
      class="dark:bg-zinc-900 dark:text-white dark:ring-zinc-900 dark:hover:bg-zinc-800"
      @click="open=!open"
      :aria-expanded="open"
      aria-controls="merge-menu"
    >
      <ChevronDown size="sm" slot="centered-icon" />
    </HorizontalButtonGroup>
    <div
      x-show="open"
      id="merge-menu"
      class="absolute top-full mt-2 w-56 rounded-md ring-1 ring-zinc-200 dark:ring-zinc-700 bg-white dark:bg-zinc-900 shadow-lg p-2 z-20"
      style="display:none"
      @click.outside="open=false"
    >
      <button
        class="w-full text-left px-2 py-1.5 rounded hover:bg-zinc-50 dark:hover:bg-zinc-800 text-sm text-zinc-700 dark:text-zinc-200"
        @click="strategy='Create merge commit'; open=false"
        >Create merge commit</button
      >
      <button
        class="w-full text-left px-2 py-1.5 rounded hover:bg-zinc-50 dark:hover:bg-zinc-800 text-sm text-zinc-700 dark:text-zinc-200"
        @click="strategy='Squash and merge'; open=false"
        >Squash and merge</button
      >
      <button
        class="w-full text-left px-2 py-1.5 rounded hover:bg-zinc-50 dark:hover:bg-zinc-800 text-sm text-zinc-700 dark:text-zinc-200"
        @click="strategy='Rebase and merge'; open=false"
        >Rebase and merge</button
      >
    </div>
    <p class="sr-only" aria-live="polite">
      Strategy: <span x-text="strategy"></span>
    </p>
  </div>
  <!-- copy:end -->
</section>
