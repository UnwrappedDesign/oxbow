---
export const description = "Fork + Count + Caret (Split)";
import HorizontalButtonGroup from "@/components/fundations/buttonGroups/HorizontalButtonGroup.astro";
import GithubBrand from "@/components/fundations/icons/GithubBrand.astro";
import ChevronDown from "@/components/fundations/icons/ChevronDown.astro";
---

<section
  class="flex items-center justify-center p-18 pb-42 bg-white dark:bg-zinc-900"
>
  <!-- copy:start -->
  <div
    class="relative inline-flex isolate"
    x-data="{ open:false, count:18 }"
    role="group"
    aria-label="Repository actions"
  >
    <HorizontalButtonGroup
      variant="default"
      position="right"
      size="sm"
      class="dark:bg-zinc-900 dark:text-white dark:ring-zinc-900 dark:hover:bg-zinc-800"
    >
      <GithubBrand size="sm" slot="left-icon" /> Fork
    </HorizontalButtonGroup>
    <HorizontalButtonGroup
      variant="default"
      position="middle"
      size="sm"
      class="dark:bg-zinc-900 dark:text-white dark:ring-zinc-900 dark:hover:bg-zinc-800"
    >
      <span x-text="count"></span>
    </HorizontalButtonGroup>
    <HorizontalButtonGroup
      variant="default"
      position="left"
      size="sm"
      class="dark:bg-zinc-900 dark:text-white dark:ring-zinc-900 dark:hover:bg-zinc-800"
      @click="open = !open"
      :aria-expanded="open"
      aria-controls="fork-menu"
    >
      <ChevronDown size="sm" slot="centered-icon" />
    </HorizontalButtonGroup>
    <div
      x-show="open"
      id="fork-menu"
      class="absolute top-full mt-2 w-48 rounded-md ring-1 ring-zinc-200 dark:ring-zinc-700 bg-white dark:bg-zinc-900 shadow-lg p-2 z-20"
      style="display:none"
      @click.outside="open=false"
    >
      <button
        class="w-full text-left px-2 py-1.5 rounded hover:bg-zinc-50 dark:hover:bg-zinc-800 text-sm text-zinc-700 dark:text-zinc-200"
        >Create new fork</button
      >
      <button
        class="w-full text-left px-2 py-1.5 rounded hover:bg-zinc-50 dark:hover:bg-zinc-800 text-sm text-zinc-700 dark:text-zinc-200"
        >Open in GitHub</button
      >
    </div>
  </div>
  <!-- copy:end -->
</section>
