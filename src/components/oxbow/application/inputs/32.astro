---
export const description = "OTP input with two digits";
import Text from "@/components/fundations/typography/Text.astro";
---

<div
  class="flex flex-wrap max-w-md items-end justify-center gap-4 py-12 mx-auto"
>
  <div class="space-y-1" x-data="{ otp: ['', ''] }">
    <Text
      for="otp-double"
      tag="label"
      variant="textSM"
      class="text-base-500 font-medium"
    >
      OTP
    </Text>
    <div class="flex gap-x-2">
      <template x-for="(digit, index) in otp" :key="index">
        <div class="relative">
          <input
            type="text"
            :id="'otp-double-' + index"
            :name="'otp-double-' + index"
            x-model="otp[index]"
            maxlength="1"
            class="w-12 h-12 text-center text-2xl text-accent-700 border border-transparent rounded-lg appearance-none ring-1 ring-base-200 focus:border-base-300 focus:bg-transparent focus:outline-none focus:ring-accent-500 focus:ring-offset-2 focus:ring-2"
            @input="$event.target.nextElementSibling?.focus()"
          />

          <div
            class="absolute left-0 z-10 w-full mt-1 bg-white border rounded-lg shadow-lg ring-1 ring-base-200"
            x-show="digit.length > 0"
            @click.away="otp[index] = ''"
          >
            <ul>
              <li
                class="px-3 py-2 text-sm text-accent-700 hover:bg-base-100 cursor-pointer"
                @click="otp[index] = '1'"
              >
                1
              </li>
              <li
                class="px-3 py-2 text-sm text-accent-700 hover:bg-base-100 cursor-pointer"
                @click="otp[index] = '2'"
              >
                2
              </li>
              <li
                class="px-3 py-2 text-sm text-accent-700 hover:bg-base-100 cursor-pointer"
                @click="otp[index] = '3'"
              >
                3
              </li>
            </ul>
          </div>
        </div>
      </template>
    </div>
  </div>
</div>
