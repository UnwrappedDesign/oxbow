---
export const description = "Choose AI Chat Plan";
export const excludeFromObfuscation = [
  "opacity-0",
  "opacity-100",
  "translate-y-4",
  "sm:translate-y-0",
  "sm:scale-95",
];
import Stacked from "@/components/fundations/icons/Stacked.astro";
import Check from "@/components/fundations/icons/Check.astro";
import X from "@/components/fundations/icons/X.astro";
import Button from "@/components/fundations/buttons/Button.astro";
import IconButton from "@/components/fundations/buttons/IconButton.astro";
import Text from "@/components/fundations/typography/Text.astro";
---

<div
  class="p-8 pt-12 pb-120 bg-white dark:bg-zinc-900 flex items-center justify-center"
>
  <!-- Copy:start -->
  <!--
// Make sure to change  "open: false",  to  open: true. On the z-data="{}".
-->
  <div
    class="w-full max-w-xl mx-auto"
    x-data="{
      open:true,
      selected:'basic',
      dontShow:false,
      show(){ this.open=true; },
      close(){ this.open=false; },
      confirm(){
        window.dispatchEvent(new CustomEvent('pricing:selected', { detail:{ plan:this.selected, dontShow:this.dontShow } }));
        this.close();
      }
    }"
  >
    <Button
      variant="default"
      size="sm"
      type="button"
      class="mx-auto"
      @click="show()">Choose AI Plan</Button
    >

    <!-- Backdrop -->
    <div
      x-show="open"
      x-transition.opacity
      class="fixed inset-0 z-40 bg-black/40 dark:bg-white/20"
      aria-hidden="true"
      @click="close()"
    >
    </div>

    <!-- Dialog -->
    <div
      x-show="open"
      x-transition:enter="transition ease-out duration-200"
      x-transition:enter-start="opacity-0"
      x-transition:enter-end="opacity-100"
      x-transition:leave="transition ease-in duration-150"
      x-transition:leave-start="opacity-100"
      x-transition:leave-end="opacity-0"
      class="fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4"
      role="dialog"
      aria-modal="true"
      aria-labelledby="plan-title"
      @keydown.escape.window.prevent="close()"
    >
      <div
        x-show="open"
        @click.outside="close()"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="translate-y-4 sm:translate-y-0 sm:scale-95"
        x-transition:enter-end="translate-y-0 sm:scale-100"
        x-transition:leave="transition ease-in duration-150"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="w-full sm:max-w-xl rounded-2xl bg-white dark:bg-zinc-800 shadow-xl outline outline-1 outline-black/5 dark:-outline-offset-1 dark:outline-white/10"
      >
        <!-- Header -->
        <div
          class="flex items-center justify-between px-5 py-4 border-b border-zinc-100 dark:border-zinc-700"
        >
          <div class="flex items-start gap-3">
            <div
              class="size-9 rounded-full grid place-items-center bg-zinc-100 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-200"
            >
              <Stacked size="sm" />
            </div>
            <div>
              <Text
                tag="h2"
                variant="textSM"
                id="plan-title"
                class="font-semibold text-zinc-900 dark:text-white"
              >
                Choose Your AI Chat Plan
              </Text>
              <Text
                tag="p"
                variant="textXS"
                class="text-zinc-600 dark:text-zinc-300"
              >
                Unlock the power of AI conversations with flexible plans.
              </Text>
            </div>
          </div>
          <IconButton
            variant="text"
            size="xxs"
            aria-label="Close"
            @click="close()"><X size="sm" /></IconButton
          >
        </div>

        <!-- Content -->
        <div class="p-5">
          <div class="flex flex-col gap-4">
            <!-- Basic card -->
            <button
              type="button"
              @click="selected='basic'"
              :class="selected==='basic' ? 'outline-2 outline-blue-500 bg-zinc-50 dark:bg-white/3' : 'outline-2 outline-zinc-200 dark:outline-zinc-700 bg-white dark:bg-zinc-800'"
              class="text-left w-full rounded-xl p-4 hover:bg-zinc-50 dark:hover:bg-white/4 grid grid-cols-1 md:grid-cols-2 gap-y-4"
            >
              <div class="flex items-start justify-between">
                <div>
                  <Text
                    tag="h3"
                    variant="textXL"
                    class="font-semibold text-zinc-900 dark:text-white"
                  >
                    $5/mth
                  </Text>
                  <Text
                    tag="p"
                    variant="textSM"
                    class="text-sm font-medium text-zinc-800 dark:text-zinc-100"
                  >
                    Basic Chat
                  </Text>
                  <Text
                    tag="p"
                    variant="textXS"
                    class="text-zinc-500 dark:text-zinc-400"
                  >
                    Billed monthly
                  </Text>
                </div>
              </div>
              <ul class="space-y-1 text-sm text-zinc-700 dark:text-zinc-300">
                <li class="flex items-center gap-2">
                  <Check size="sm" class="text-blue-600" /> 100 AI messages per month
                </li>
                <li class="flex items-center gap-2">
                  <Check size="sm" class="text-blue-600" /> Standard response quality
                </li>
                <li class="flex items-center gap-2">
                  <Check size="sm" class="text-blue-600" /> Basic chat history
                </li>
                <li class="flex items-center gap-2">
                  <Check size="sm" class="text-blue-600" /> Email support
                </li>
              </ul>
            </button>

            <!-- Business card -->
            <button
              type="button"
              @click="selected='business'"
              :class="selected==='business' ? 'outline-2 outline-blue-500 bg-zinc-50 dark:bg-white/3' : 'outline-2 outline-zinc-200 dark:outline-zinc-700 bg-white dark:bg-zinc-800'"
              class="text-left w-full rounded-xl p-4 hover:bg-zinc-50 dark:hover:bg-white/4 grid grid-cols-1 md:grid-cols-2 gap-y-4"
            >
              <div class="flex items-start justify-between">
                <div>
                  <Text
                    tag="h3"
                    variant="textXL"
                    class="font-semibold text-zinc-900 dark:text-white"
                  >
                    $15/mth
                  </Text>
                  <Text
                    tag="p"
                    variant="textSM"
                    class="font-medium text-zinc-800 dark:text-zinc-100"
                  >
                    Pro Chat
                  </Text>
                  <Text
                    tag="p"
                    variant="textXS"
                    class="text-zinc-500 dark:text-zinc-400"
                  >
                    Billed monthly
                  </Text>
                </div>
              </div>
              <ul class="space-y-1 text-sm text-zinc-700 dark:text-zinc-300">
                <li class="flex items-center gap-2">
                  <Check size="sm" class="text-blue-600" /> Unlimited AI messages
                </li>
                <li class="flex items-center gap-2">
                  <Check size="sm" class="text-blue-600" /> Advanced AI responses
                </li>
                <li class="flex items-center gap-2">
                  <Check size="sm" class="text-blue-600" /> Full chat history
                </li>
                <li class="flex items-center gap-2">
                  <Check size="sm" class="text-blue-600" /> Priority support
                </li>
              </ul>
            </button>
          </div>
        </div>

        <!-- Footer -->
        <div
          class="px-5 py-4 border-t border-zinc-100 dark:border-zinc-700 flex items-center gap-3"
        >
          <label
            class="inline-flex items-center gap-2 text-sm text-zinc-700 dark:text-zinc-300"
          >
            <input
              type="checkbox"
              class="rounded border-zinc-300 dark:border-zinc-600 dark:bg-zinc-800 text-blue-600 focus:ring-blue-500 focus:ring-offset-2 focus:ring-2 shadow size-4"
              x-model="dontShow"
            />
            Don't show again
          </label>

          <div class="ml-auto flex items-center gap-2">
            <Button variant="outline" size="xxs" type="button" @click="close()"
              >Cancel</Button
            >
            <Button variant="accent" size="xxs" type="button" @click="confirm()"
              >Confirm</Button
            >
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Copy:end -->
</div>
