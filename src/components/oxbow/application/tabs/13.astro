---
export const excludeFromObfuscation = [
  "text-zinc-600",
  "bg-zinc-50",
  "ring-1",
  "ring-zinc-200",
  "border-zinc-600",
  "border-l-2",
];
---

<div class="flex flex-col justify-center p-8 mx-auto bg-white dark:bg-zinc-900">
  <!-- Vertical Tabs • Descriptive items (title + description) -->
  <div
    x-data="{
      keys: ['overview','projects','packages'],
      selected: 'overview',
      focus: 0,
      init(){ this.focus = 0 },
      select(id){ this.selected=id; this.focus=this.keys.indexOf(id) },
      onKeydown(e){ const last=this.keys.length-1; let i=this.focus;
        if(e.key==='ArrowDown') i=i===last?0:i+1; else if(e.key==='ArrowUp') i=i===0?last:i-1; else if(e.key==='Home') i=0; else if(e.key==='End') i=last; else return;
        e.preventDefault(); const id=this.keys[i]; this.focus=i; this.$nextTick(()=>this.$refs['tab-'+id]?.focus()); }
    }"
    class="w-full max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6"
  >
    <aside>
      <div
        role="tablist"
        aria-orientation="vertical"
        class="flex flex-col gap-2"
      >
        <template x-for="(id, idx) in keys" :key="id">
          <button
            class="w-full px-3 py-3 text-left rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-zinc-500/50"
            :id="'tab-'+id"
            role="tab"
            :aria-selected="selected===id"
            :tabindex="focus===idx?0:-1"
            :aria-controls="'panel-'+id"
            x-ref="tab-[[id]]"
            @click="select(id)"
            @keydown="onKeydown($event)"
            :class="selected===id ? 'bg-zinc-50 dark:bg-zinc-800 text-zinc-600 ' : 'text-zinc-700 dark:text-zinc-200 hover:text-zinc-900 dark:hover:text-zinc-100'"
          >
            <div
              class="text-sm font-medium"
              x-text="id==='overview' ? 'Overview' : id==='projects' ? 'Projects' : 'Packages'"
            >
            </div>
            <div
              class="mt-0.5 text-xs text-zinc-500 dark:text-zinc-400"
              x-text="id==='overview' ? 'Dashboards and activity' : id==='projects' ? 'Workspaces and boards' : 'Artifacts and releases'"
            >
            </div>
          </button>
        </template>
      </div>
    </aside>
    <main class="text-sm md:::col-span-2 text-zinc-500 dark:text-zinc-300">
      <template x-for="id in keys" :key="'panel-'+id">
        <section
          x-show="selected===id"
          x-cloak
          role="tabpanel"
          :id="'panel-'+id"
          :aria-labelledby="'tab-'+id"
          class="p-4 border rounded-lg border-zinc-200 dark:border-zinc-700"
        >
          <p>
            <span x-text="id.charAt(0).toUpperCase()+id.slice(1)"></span> content
            — vertical descriptive tabs.
          </p>
        </section>
      </template>
    </main>
  </div>
</div>
