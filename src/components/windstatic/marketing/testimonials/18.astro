<section>
  <div class="px-8 py-24 mx-auto md:px-12 lg:px-24 max-w-7xl relative">
    <div>
      <span
        class="font-mono text-xs font-medium tracking-tight text-blue-600 uppercase"
        >Testimonials</span
      >
      <h1
        class="text-4xl mt-4 font-semibold tracking-tight text-gray-900 lg:text-balance"
      >
        Hear from our customers

        <span class="text-gray-600 block">about their experiences </span>
      </h1>
      <p
        class="mt-6 text-base font-medium lg:w-1/2 text-gray-500 lg:text-balance"
      >
        A group of passionate individuals working together to innovate and excel
        in our industry.
      </p>
    </div>
    <div
      class="flex flex-col w-full mt-12"
      x-data="{
                      skip: 1,
                      atBeginning: false,
                      atEnd: false,
                      next() {
                          this.to((current, offset) => current + (offset * this.skip))
                      },
                      prev() {
                          this.to((current, offset) => current - (offset * this.skip))
                      },
                      to(strategy) {
                          let slider = this.$refs.slider
                          let current = slider.scrollLeft
                          let offset = slider.firstElementChild.getBoundingClientRect().width
                          slider.scrollTo({ left: strategy(current, offset), behavior: 'smooth' })
                      },
                      focusableWhenVisible: {
                          'x-intersect:enter'() {
                              this.$el.removeAttribute('tabindex')
                          },
                          'x-intersect:leave'() {
                              this.$el.setAttribute('tabindex', '-1')
                          },
                      },
                      disableNextAndPreviousButtons: {
                          'x-intersect:enter.threshold.05'() {
                              let slideEls = this.$el.parentElement.children
                              // If this is the first slide.
                              if (slideEls[0] === this.$el) {
                                  this.atBeginning = true
                              // If this is the last slide.
                              } else if (slideEls[slideEls.length-1] === this.$el) {
                                  this.atEnd = true
                              }
                          },
                          'x-intersect:leave.threshold.05'() {
                              let slideEls = this.$el.parentElement.children
                              // If this is the first slide.
                              if (slideEls[0] === this.$el) {
                                  this.atBeginning = false
                              // If this is the last slide.
                              } else if (slideEls[slideEls.length-1] === this.$el) {
                                  this.atEnd = false
                              }
                          },
                      },
                  }"
    >
      <div
        class="flex flex-col w-full relative"
        aria-labelledby="carousel-label"
        role="region"
        tabindex="0"
        x-on:keydown.left="prev"
        x-on:keydown.right="next"
      >
        <h2 class="sr-only" hidden="" id="carousel-label">Carousel</h2>
        <span class="sr-only" hidden="" id="carousel-content-label"
          >Carousel</span
        >

        <div class="inline-flex items-center space-x-2 order-last mt-4 w-full">
          <button
            class="flex items-center text-white bg-blue-500 rounded-full hover:bg-blue-600 size-8 focus:bg-blue-400"
            :class="{ 'opacity-50 ': atBeginning }"
            :aria-disabled="atBeginning"
            :tabindex="atEnd ? -1 : 0"
            x-on:click="prev"
            tabindex="0"
          >
            <span aria-hidden="true" class="mx-auto"> ← </span><span
              class="sr-only">Skip to previous slide page</span
            >
          </button>
          <button
            class="flex items-center text-white bg-blue-500 rounded-full hover:bg-blue-600 size-8 focus:bg-blue-400"
            :class="{ 'opacity-50 ': atEnd }"
            :aria-disabled="atEnd"
            :tabindex="atEnd ? -1 : 0"
            x-on:click="next"
            tabindex="0"
          >
            <span aria-hidden="true" class="mx-auto"> → </span><span
              class="sr-only">Skip to next slide page</span
            >
          </button>
        </div>

        <ul
          class="flex w-full gap-3 mt-4 overflow-x-scroll scrollbar-hide snap-mandatory snap-x rounded-2xl relative"
          role="listbox"
          aria-labelledby="carousel-content-label"
          tabindex="0"
          x-ref="slider"
        >
          <li
            class="shrink-0 snap-start w-full"
            role="option"
            x-bind="disableNextAndPreviousButtons"
          >
            <figure
              class="relative flex flex-col lg:flex-row gap-12 items-center"
            >
              <figcaption class="justify-between w-full">
                <img
                  alt="#_"
                  src="/avatars/5.avif"
                  class="object-cover w-full h-full rounded-2xl aspect-[4/3]"
                />
              </figcaption>
              <div>
                <blockquote>
                  <p
                    class="text-3xl font-semibold tracking-tight text-gray-900 lg:text-balance"
                  >
                    " Being in the financial industry, we were always looking
                    for ways to enhance our transactions' security and
                    efficiency"
                  </p>
                </blockquote>
                <div class="mt-6">
                  <h3
                    class="tracking-tight text-lg font-medium text-gray-900"
                  >
                    Ana Betancourt
                  </h3>
                  <p class="mt-2 text-sm text-gray-500">Creator of Something</p>
                </div>
              </div>
            </figure>
          </li>
          <li
            class="shrink-0 snap-start w-full"
            role="option"
            x-bind="disableNextAndPreviousButtons"
          >
            <figure
              class="relative flex flex-col lg:flex-row gap-12 items-center"
            >
              <figcaption class="justify-between w-full">
                <img
                  alt="#_"
                  src="/avatars/2.avif"
                  class="object-cover w-full h-full rounded-2xl aspect-[4/3]"
                />
              </figcaption>
              <div>
                <blockquote>
                  <p
                    class="text-3xl font-semibold tracking-tight text-gray-900 lg:text-balance"
                  >
                    "Implementing Semplice's blockchain technology has been a
                    game-changer for our supply chain management. "
                  </p>
                </blockquote>
                <div class="mt-6">
                  <h3
                    class="tracking-tight text-lg font-medium text-gray-900"
                  >
                    Juanjo Garcia
                  </h3>
                  <p class="mt-2 text-sm text-gray-500">Founder of his kids</p>
                </div>
              </div>
            </figure>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>
