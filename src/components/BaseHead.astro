---
import "../styles/global.css";
const umamiScriptSrc = import.meta.env.PUBLIC_UMAMI_URL;
const umamiWebsiteId = import.meta.env.PUBLIC_UMAMI_WEBSITE_ID;
const amplitudeKey = import.meta.env.PUBLIC_AMPLITUDE_KEY;
const toltId = import.meta.env.PUBLIC_TOLT_ID;
---

<script is:inline>
  (function () {
    const root = document.documentElement;
    const ninja = document.getElementById("ninja");
    const toggle = document.getElementById("theme-toggle");
    const savedTheme = localStorage.getItem("theme");
    const mediaQuery = window.matchMedia("(prefers-color-scheme: dark)");

    const applyTheme = (theme) => {
      const isDark = theme === "dark";
      root.classList.toggle("dark", isDark);
      ninja?.classList.remove("light", "dark");
      ninja?.classList.add(isDark ? "dark" : "light");

      if (toggle)
        toggle.setAttribute("aria-checked", isDark ? "true" : "false");
    };

    const getSystemTheme = () => (mediaQuery.matches ? "dark" : "light");

    if (savedTheme === "light" || savedTheme === "dark") {
      applyTheme(savedTheme);
    } else {
      applyTheme(getSystemTheme());

      // Keep in sync with system theme if using "System"
      mediaQuery.addEventListener("change", (e) => {
        if (!localStorage.getItem("theme")) {
          applyTheme(e.matches ? "dark" : "light");
        }
      });
    }
  })();
</script>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<!-- Favicon guidelines generated with https://favicon.io/ -->
<link
  rel="apple-touch-icon"
  sizes="180x180"
  href="/favicons/apple-touch-icon.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="/favicons/favicon-32x32.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="16x16"
  href="/favicons/favicon-16x16.png"
/>
<link rel="manifest" href="/favicons/site.webmanifest" />
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#ffffff" />
<meta name="msapplication-TileColor" content="#ffffff" />
<meta name="theme-color" content="#ffffff" />
<link rel="sitemap" href="/sitemap-index.xml" />

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap"
  rel="stylesheet"
/>
<script>
  import * as amplitude from "@amplitude/analytics-browser";
  const amplitudeKey = import.meta.env.PUBLIC_AMPLITUDE_KEY;
  if (amplitudeKey) {
    amplitude.init(amplitudeKey, {
      serverZone: "EU",
      autocapture: { elementInteractions: true },
    });
  }
</script>
<script
  defer
  src="https://stats.andreuzza.com/script.js"
  data-website-id="8af1cdcb-dd13-4fcb-92a8-b6e68c19b344"></script>
{
  toltId && (
    <script async src="https://cdn.tolt.io/tolt.js" data-tolt={toltId} />
  )
}
<!-- Place in <head> tag --> <script async defer src="https://affonso.io/js/pixel.min.js" data-affonso="cm8mwmtfe000nqzz7zqtm6a0p" data-cookie_duration="30"> </script>