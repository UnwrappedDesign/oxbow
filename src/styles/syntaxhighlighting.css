/* Line numbers */
.astro-code,
.shiki {
  background: var(--astro-code-background);
  color: var(--astro-code-color-text);
  border-radius: 0.75rem;
  padding: 1.5rem;
  font-family: var(--font-mono, "Geist Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
  line-height: 1.6;
  overflow-x: auto;
}

.astro-code code,
.shiki code {
  display: block;
  white-space: pre;
}

.astro-code .line,
.shiki .line {
  display: inline-block;
  width: 100%;
}

code {
  counter-reset: step;
  counter-increment: step 0;
}
code .line::before {
  content: counter(step);
  counter-increment: step;

  margin-right: 1.5rem;
  display: inline-block;
  text-align: right;
  padding-left: 0.5rem;
  color: theme(colors.base.400);
}
/* Shiki Diff Annotations - using the exact classes from transformerNotationDiff */

.diff.add {
  background-color: oklch(77.7% 0.152 181.912 / 10%) !important;
  border-left: 1px solid  theme(colors.teal.500) !important;
}
.diff.remove {
  background-color: oklch(83.3% 0.145 321.434 / 10%) !important;
  border-left: 1px solid theme(colors.fuchsia.500) !important;
}
/* Focus annotations */
.focused {
  background-color: rgba(255, 255, 255, 0.1) !important;
  border-left: 1px solid #0366d6 !important;
}
/* Meta highlight */
.highlighted {
  background-color: rgba(255, 255, 255, 0.05) !important;
}
/* Dark mode adjustments */
:root .focused {
  background-color: rgba(0, 0, 0, 0.05) !important;
}
:root .highlighted {
  background-color: rgba(0, 0, 0, 0.02) !important;
}
/* Dark mode adjustments */
:root.dark .focused {
  background-color: rgba(255, 255, 255, 0.05) !important;
}
:root.dark .highlighted {
  background-color: rgba(255, 255, 255, 0.02) !important;
}


/* Your existing color variables */
:root {
  /* Enhanced Shiki code styles with improved contrast and modern colors */
  --astro-code-color-text: var(--color-charcoal-800);
  --astro-code-background: var(--color-base-50);
  --astro-code-token-punctuation: var(--color-charcoal-500);
  --astro-code-token-parameter: var(--color-charcoal-600);
  --astro-code-token-line-number: var(--color-charcoal-300);
  --astro-code-token-comment: var(--color-charcoal-400);
  --astro-code-token-cdata: var(--color-charcoal-700);
  /* Functions and methods */
  --astro-code-token-constant: var(--color-charcoal-700);
  --astro-code-token-function: var(--color-charcoal-800);
  --astro-code-token-builtin: var(--color-charcoal-700);
  --astro-code-token-class-name: var(--color-charcoal-800);
  --astro-code-token-property: var(--color-charcoal-700);
  --astro-code-token-selector: var(--color-charcoal-700);
  /* Attributes and HTML */
  --astro-code-token-attr-name: var(--color-charcoal-700);
  --astro-code-token-attr-value: var(--color-charcoal-600);
  --astro-code-token-tag: var(--color-charcoal-800);
  /* Strings */
  --astro-code-token-string: var(--color-charcoal-600);
  --astro-code-token-string-expression: var(--color-charcoal-500);
  /* Variables and identifiers */
  --astro-code-token-variable: var(--color-charcoal-600);
  --astro-code-token-namespace: var(--color-charcoal-700);
  /* Keywords and operators */
  --astro-code-token-keyword: var(--color-charcoal-800);
  --astro-code-token-operator: var(--color-charcoal-700);
  --astro-code-token-symbol: var(--color-charcoal-700);
  /* Numbers and booleans */
  --astro-code-token-number: var(--color-charcoal-600);
  --astro-code-token-boolean: var(--color-charcoal-600);
  /* Special tokens */
  --astro-code-token-deleted: var(--color-charcoal-500);
  --astro-code-token-inserted: var(--color-charcoal-600);
  --astro-code-token-changed: var(--color-charcoal-500);
  --astro-code-token-important: var(--color-charcoal-800);
  --astro-code-token-highlight: var(--color-charcoal-300);
  --astro-code-token-alert: var(--color-charcoal-600);
  --astro-code-token-emphasis: var(--color-charcoal-600);
  --astro-code-token-focus: var(--color-charcoal-700);
  --astro-code-token-notice: var(--color-charcoal-600);
  /* CSS specific */
  --astro-code-token-atrule: var(--color-charcoal-700);
  --astro-code-token-entity: var(--color-charcoal-700);
  --astro-code-token-regex: var(--color-charcoal-600);
  /* Meta tokens */
  --astro-code-token-doctype: var(--color-charcoal-500);
  --astro-code-token-prolog: var(--color-charcoal-400);
  /* Text formatting */
  --astro-code-token-bold: inherit;
  --astro-code-token-italic: italic;
  --astro-code-token-underline: underline;
}
/* Enhanced dark mode with better contrast and modern colors */
:root.dark {
  --astro-code-color-text: var(--color-metal-100);
  --astro-code-background: var(--color-base-800);
  --astro-code-token-punctuation: var(--color-metal-300);
  --astro-code-token-parameter: var(--color-metal-200);
  --astro-code-token-line-number: var(--color-metal-400);
  --astro-code-token-comment: var(--color-charcoal-500);
  --astro-code-token-cdata: var(--color-metal-200);
  /* Functions and methods */
  --astro-code-token-constant: var(--color-metal-200);
  --astro-code-token-function: var(--color-metal-200);
  --astro-code-token-builtin: var(--color-metal-200);
  --astro-code-token-class-name: var(--color-metal-200);
  --astro-code-token-property: var(--color-metal-200);
  --astro-code-token-selector: var(--color-metal-200);
  /* Attributes and HTML */
  --astro-code-token-attr-name: var(--color-metal-200);
  --astro-code-token-attr-value: var(--color-metal-300);
  --astro-code-token-tag: var(--color-metal-200);
  /* Strings */
  --astro-code-token-string: var(--color-metal-300);
  --astro-code-token-string-expression: var(--color-metal-400);
  /* Variables and identifiers */
  --astro-code-token-variable: var(--color-metal-300);
  --astro-code-token-namespace: var(--color-metal-200);
  /* Keywords and operators */
  --astro-code-token-keyword: var(--color-metal-200);
  --astro-code-token-operator: var(--color-metal-200);
  --astro-code-token-symbol: var(--color-metal-200);
  /* Numbers and booleans */
  --astro-code-token-number: var(--color-metal-300);
  --astro-code-token-boolean: var(--color-metal-300);
  /* Special tokens */
  --astro-code-token-deleted: var(--color-metal-400);
  --astro-code-token-inserted: var(--color-metal-300);
  --astro-code-token-changed: var(--color-metal-400);
  --astro-code-token-important: var(--color-metal-200);
  --astro-code-token-highlight: var(--color-metal-400);
  --astro-code-token-alert: var(--color-metal-300);
  --astro-code-token-emphasis: var(--color-metal-300);
  --astro-code-token-focus: var(--color-metal-200);
  --astro-code-token-notice: var(--color-metal-300);
  /* CSS specific */
  --astro-code-token-atrule: var(--color-metal-300);
  --astro-code-token-entity: var(--color-metal-300);
  --astro-code-token-regex: var(--color-metal-300);
  /* Meta tokens */
  --astro-code-token-doctype: var(--color-metal-400);
  --astro-code-token-prolog: var(--color-metal-500);
}
