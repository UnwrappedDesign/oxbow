---
import BaseLayout from "./BaseLayout.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
---

<BaseLayout>
  <section>
    <Wrapper variant="standard" class="py-12">
      <Wrapper variant="narrow">
        <div class="prose-styles">
          <slot />
        </div>
      </Wrapper>
    </Wrapper>
  </section>
</BaseLayout>
<script type="module">
  document.addEventListener("DOMContentLoaded", () => {
    function copyToClipboard(text, button) {
      navigator.clipboard
        .writeText(text)
        .then(() => {
          button.textContent = "Copied!";
          button.classList.add("copied");
          setTimeout(() => {
            button.textContent = "Copy";
            button.classList.remove("copied");
          }, 2000); // Reset button text and style after 2 seconds
        })
        .catch((err) => {
          console.error("Failed to copy: ", err);
          button.textContent = "Failed to copy";
          setTimeout(() => {
            button.textContent = "Copy";
          }, 2000);
        });
    }

    document.querySelectorAll("pre code").forEach((block) => {
      const button = document.createElement("button");
      button.textContent = "Copy";
      button.onclick = () => copyToClipboard(block.textContent, button);
      button.className =
        "copy-button border ml-auto bg-white shadow flex mb-4 w-16 text-black focus:text-accent-600 easy-out focus:ring-2 focus:ring-accent-600 duration-300 transition-all focus:ring-offset-2 text-center justify-center  px-2 rounded-md h-6 text-[0.68rem] items-center";
      block.parentElement.insertBefore(button, block);
    });
  });
</script>
